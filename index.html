
<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>HORIZON — Un jour à la fois</title>
  <link href="https://fonts.googleapis.com/css2?family=Hind+Guntur:wght@400;600&family=Le+Monde+Livre+Std&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css">
  <!-- Animation d’apparition au scroll -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) entry.target.classList.add("visible");
        });
      }, { threshold: 0.1 });
      document.querySelectorAll(".fade-in").forEach(el => observer.observe(el));
    });
  </script>

</head>
<body>
  <header>
    <nav>
      <div class="logo">🌿 HORIZON</div>
      <div class="nav-links">
        <ul>
          <li><a href="#download" class="download-link">Télécharger</a></li>
        </ul>
      </div>
    </nav>

    <div class="hero">
  <h1 id="countdown" style="font-size:2.5rem;"></h1>
  <p>Note ton humeur, observe ton évolution, et trouve des conseils pour retrouver ton équilibre émotionnel.</p>
  <!-- Layout: two stacked cards left, phone preview center, two stacked cards right -->
  <div class="hero-layout">
    <div class="cards-column left">
      <button class="card" data-modal="journal" data-video="videos/journal.mp4">
        <h3>📅 Journal</h3>
        <p>Note tes émotions et réflexions.</p>
      </button>
      <button class="card" data-modal="suivi" data-video="videos/suivi.mp4">
        <h3>📊 Suivi</h3>
        <p>Visualise ton bien-être.</p>
      </button>
    </div>

    <div class="phone-preview" id="phone-preview">
      <div class="phone-frame">
        <video id="phone-video" playsinline muted loop preload="metadata" poster="images/phone-poster.jpg">
          <source src="videos/journal.mp4" type="video/mp4">
          Your browser does not support the video tag.
        </video>
        <!-- Poster fallback shown when video missing or fails to load -->
        <img id="phone-poster-img" src="images/phone-poster.jpg" alt="Aperçu de l'app" class="phone-poster-img" />
      </div>
    </div>

    <div class="cards-column right">
      <button class="card" data-modal="minimal" data-video="videos/minimal.mp4">
        <h3>🌈 Minimal</h3>
        <p>Interface douce et apaisante.</p>
      </button>
      <button class="card empty-card" aria-label="Ajouter" title="Ajouter une carte">
        <h3>＋</h3>
        <p>Ajouter</p>
      </button>
    </div>
  </div>

  <button id="newsletter-btn" class="cta">Recevoir la newsletter</button>
      <script>
        // Compte à rebours jusqu'au 15 janvier 2026
        function updateCountdown() {
          const targetDate = new Date('2026-01-15T00:00:00');
          const now = new Date();
          const diff = targetDate - now;
          if (diff <= 0) {
            document.getElementById('countdown').textContent = "Lancement aujourd'hui !";
            return;
          }
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor((diff / (1000 * 60 * 60)) % 24);
          const minutes = Math.floor((diff / (1000 * 60)) % 60);
          const seconds = Math.floor((diff / 1000) % 60);
          document.getElementById('countdown').textContent = `Lancement dans ${days}j ${hours}h ${minutes}m ${seconds}s`;
        }
        updateCountdown();
        setInterval(updateCountdown, 1000);
      </script>
    </div>
    <!-- Fond dynamique doux -->
  <div class="hero-bg"></div>

  </header>

  <main>
    <section id="reviews" class="section light">
      <div class="container">
        <h2>🗣️ Ce que disent les utilisateurs</h2>
        <div class="reviews-wrap">
          <button class="rev-arrow left" aria-label="Précédent">◀</button>
          <div class="reviews-track" id="reviews-track">
            <!-- 7 review cards (will loop) -->
            <div class="review">
              <div class="rev-head"><span class="rev-name">Lola</span><img class="rev-avatar" src="images/avatar1.png" alt=""></div>
              <div class="rev-stars">★★★★★</div>
              <p class="rev-text">« J’utilise Horizon chaque soir, ça m’aide à prendre du recul. »</p>
              <div class="rev-date">12 juin 2025</div>
            </div>
            <div class="review">
              <div class="rev-head"><span class="rev-name">Sam</span><img class="rev-avatar" src="images/avatar2.png" alt=""></div>
              <div class="rev-stars">★★★★★</div>
              <p class="rev-text">« Simple et apaisant — parfait pour commencer la journée. »</p>
              <div class="rev-date">3 juillet 2025</div>
            </div>
            <div class="review">
              <div class="rev-head"><span class="rev-name">Marina</span><img class="rev-avatar" src="images/avatar3.png" alt=""></div>
              <div class="rev-stars">★★★★☆</div>
              <p class="rev-text">« Design doux, très agréable. »</p>
              <div class="rev-date">21 mai 2025</div>
            </div>
            <div class="review">
              <div class="rev-head"><span class="rev-name">Noé</span><img class="rev-avatar" src="images/avatar4.png" alt=""></div>
              <div class="rev-stars">★★★★★</div>
              <p class="rev-text">« Les graphiques m’ont aidé à comprendre mes patterns. »</p>
              <div class="rev-date">2 août 2025</div>
            </div>
            <div class="review">
              <div class="rev-head"><span class="rev-name">Alya</span><img class="rev-avatar" src="images/avatar5.png" alt=""></div>
              <div class="rev-stars">★★★★☆</div>
              <p class="rev-text">« Interface calme, super expérience. »</p>
              <div class="rev-date">28 avril 2025</div>
            </div>
            <div class="review">
              <div class="rev-head"><span class="rev-name">Rayan</span><img class="rev-avatar" src="images/avatar6.png" alt=""></div>
              <div class="rev-stars">★★★★★</div>
              <p class="rev-text">« Utile et bien pensé. »</p>
              <div class="rev-date">1 janvier 2025</div>
            </div>
            <div class="review">
              <div class="rev-head"><span class="rev-name">Yanis</span><img class="rev-avatar" src="images/avatar7.png" alt=""></div>
              <div class="rev-stars">★★★★★</div>
              <p class="rev-text">« J’adore le style minimal, apaisant. »</p>
              <div class="rev-date">14 mars 2025</div>
            </div>
          </div>
          <button class="rev-arrow right" aria-label="Suivant">▶</button>
        </div>
      </div>
    </section>

    <section id="our-story" class="section">
      <div class="container">
        <h2>📖 Notre histoire</h2>
        <p>Horizon est né d’une envie simple : proposer un espace calme et bienveillant pour suivre son humeur au quotidien. Nous sommes une petite équipe passionnée par le design empathique et la santé mentale. Ici tu trouveras nos motivations, les étapes du projet et les personnes derrière l’app.</p>
        <p class="muted">Exemple : comment l’idée est venue, les premiers prototypes, retours d’utilisateurs, et la vision pour l’avenir. Remplace ce texte par ta propre histoire.</p>
      </div>
    </section>

    <section id="download" class="section light">
      <div class="container">
        <h2>📲 Bientôt disponible</h2>
        <p>L’app arrive sur iOS — inscris-toi pour la bêta et les updates.</p>
        <a href="#" class="cta">Me prévenir du lancement</a>
      </div>
    </section>
  </main>

  <footer>
    <p>© 2025 Horizon • Créé par Rayan & Yanis</p>
  </footer>

  <!-- 🌿 POPUPS -->
  <!-- Popup Newsletter -->
  <div class="modal" id="modal-newsletter">
    <div class="modal-content">
      <h2>Inscription à la newsletter</h2>
      <form id="newsletter-form" style="display:flex;flex-direction:column;gap:1rem;align-items:center;">
        <input type="text" name="prenom" placeholder="Prénom" required style="padding:0.7rem 1rem;border-radius:8px;border:1px solid #ccc;width:80%;max-width:320px;">
        <input type="email" name="email" placeholder="Email" required style="padding:0.7rem 1rem;border-radius:8px;border:1px solid #ccc;width:80%;max-width:320px;">
        <button type="submit" class="cta" style="width:80%;max-width:320px;">S’inscrire</button>
      </form>
      <button class="close-modal">Fermer</button>
    </div>
  </div>
  <div class="modal-overlay" id="modal-overlay"></div>

  <div class="modal" id="modal-journal">
    <div class="modal-content">
      <img src="images/journal.jpg" alt="Journal quotidien" style="max-width:100%;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.08);margin-bottom:1.2rem;">
      <div class="modal-text">
        <h2>Journal quotidien</h2>
        <p>Note chaque journée avec une phrase, un mot ou une émotion. Ces petites traces deviennent ton miroir émotionnel, un pas vers plus de clarté intérieure.</p>
      </div>
      <button class="close-modal">Fermer</button>
    </div>
  </div>

  <div class="modal" id="modal-suivi">
    <div class="modal-content">
      <img src="images/suivi.jpg" alt="Suivi d’humeur" style="max-width:100%;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.08);margin-bottom:1.2rem;">
      <div class="modal-text">
        <h2>Suivi d’humeur</h2>
        <p>Observe ton évolution au fil du temps. Découvre les moments forts, les périodes calmes, et apprends à repérer ce qui t’influence le plus.</p>
      </div>
      <button class="close-modal">Fermer</button>
    </div>
  </div>

  <div class="modal" id="modal-minimal">
    <div class="modal-content">
      <img src="images/minimal.jpg" alt="Minimal et apaisant" style="max-width:100%;border-radius:16px;box-shadow:0 8px 24px rgba(0,0,0,0.08);margin-bottom:1.2rem;">
      <div class="modal-text">
        <h2>Minimal et apaisant</h2>
        <p>Une interface épurée et respirante. Aucune distraction, juste ton ressenti et la sérénité d’un espace clair.</p>
      </div>
      <button class="close-modal">Fermer</button>
    </div>
  </div>

  <script>
    const buttons = document.querySelectorAll('.card');
    const modals = document.querySelectorAll('.modal');
    const overlay = document.getElementById('modal-overlay');

    // Bouton newsletter
    const newsletterBtn = document.getElementById('newsletter-btn');
    newsletterBtn.addEventListener('click', () => {
      document.getElementById('modal-newsletter').classList.add('active');
      overlay.classList.add('active');
      document.body.style.overflow = 'hidden';
    });

    // (Optionnel) Gestion du formulaire
    document.getElementById('newsletter-form').addEventListener('submit', function(e) {
      e.preventDefault();
      alert('Merci pour votre inscription !');
      modals.forEach(m => m.classList.remove('active'));
      overlay.classList.remove('active');
      document.body.style.overflow = '';
    });

    // Modal opening only for cards having data-modal (skip empty card)
    buttons.forEach(btn => {
      btn.addEventListener('click', () => {
        const id = btn.dataset.modal;
        if (!id) return; // empty card
        document.getElementById(`modal-${id}`).classList.add('active');
        overlay.classList.add('active');
        document.body.style.overflow = 'hidden'; // empêche le scroll
      });
    });

    // Video preview handlers for the two-left / phone / two-right layout
    (function() {
      const phoneVideo = document.getElementById('phone-video');
      const phonePoster = document.getElementById('phone-poster-img');
      const cards = document.querySelectorAll('.hero .card');

      function loadAndPlay(src, muted = true) {
        if (!src) return;
        if (phoneVideo.getAttribute('src') !== src) {
          phoneVideo.pause();
          phoneVideo.src = src;
          phoneVideo.load();
        }
        phoneVideo.muted = muted;
        phoneVideo.play().catch(()=>{});
      }

      cards.forEach(card => {
        const videoSrc = card.dataset.video;
        // hover -> preview muted
        card.addEventListener('mouseenter', () => {
          if (!videoSrc) return;
          loadAndPlay(videoSrc, true);
        });
        // leave -> mute
        card.addEventListener('mouseleave', () => {
          if (!phoneVideo.paused) phoneVideo.muted = true;
        });
        // click/tap -> play unmuted and open modal if present
        card.addEventListener('click', (e) => {
          if (videoSrc) loadAndPlay(videoSrc, false);
          const id = card.dataset.modal;
          if (id) {
            document.getElementById(`modal-${id}`).classList.add('active');
            overlay.classList.add('active');
            document.body.style.overflow = 'hidden';
          }
        });
        // touch support: also play preview on touchstart
        card.addEventListener('touchstart', () => {
          if (!videoSrc) return;
          loadAndPlay(videoSrc, true);
        }, {passive:true});
      });

      // Hide poster when video can play; show poster on error or when no src
      phoneVideo.addEventListener('playing', () => { if (phonePoster) phonePoster.style.display = 'none'; });
      phoneVideo.addEventListener('pause', () => { if (phonePoster) phonePoster.style.display = phoneVideo.src ? 'none' : 'block'; });
      phoneVideo.addEventListener('error', () => { if (phonePoster) phonePoster.style.display = 'block'; });
      // initial state: if source missing, show poster
      if (!phoneVideo.querySelector('source') || !phoneVideo.querySelector('source').getAttribute('src')) {
        if (phonePoster) phonePoster.style.display = 'block';
      } else {
        // try to load, but keep poster until playing
        phonePoster.style.display = 'block';
      }
    })();

    document.querySelectorAll('.close-modal, #modal-overlay').forEach(el => {
      el.addEventListener('click', () => {
        modals.forEach(m => m.classList.remove('active'));
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      });
    });

    // Fermer les popups avec la touche Échap
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        modals.forEach(m => m.classList.remove('active'));
        overlay.classList.remove('active');
        document.body.style.overflow = '';
      }
    });

    // Reviews carousel: drag, arrows, infinite-like loop
    (function() {
      const track = document.getElementById('reviews-track');
      const leftBtn = document.querySelector('.rev-arrow.left');
      const rightBtn = document.querySelector('.rev-arrow.right');
      let isDown = false, startX, scrollLeft;

      // clone nodes to each side for smooth loop illusion
      const items = Array.from(track.children);
      items.forEach(node => track.appendChild(node.cloneNode(true)));

      track.addEventListener('mousedown', (e) => { isDown = true; startX = e.pageX - track.offsetLeft; scrollLeft = track.scrollLeft; track.classList.add('dragging'); });
      track.addEventListener('mouseleave', () => { isDown = false; track.classList.remove('dragging'); });
      track.addEventListener('mouseup', () => { isDown = false; track.classList.remove('dragging'); });
      track.addEventListener('mousemove', (e) => { if(!isDown) return; e.preventDefault(); const x = e.pageX - track.offsetLeft; const walk = (x - startX) * 1.2; track.scrollLeft = scrollLeft - walk; });
      // touch
      track.addEventListener('touchstart', (e) => { startX = e.touches[0].pageX - track.offsetLeft; scrollLeft = track.scrollLeft; });
      track.addEventListener('touchmove', (e) => { const x = e.touches[0].pageX - track.offsetLeft; const walk = (x - startX) * 1.2; track.scrollLeft = scrollLeft - walk; }, {passive:true});

      leftBtn.addEventListener('click', () => { track.scrollBy({left: -320, behavior:'smooth'}); });
      rightBtn.addEventListener('click', () => { track.scrollBy({left: 320, behavior:'smooth'}); });

      // optional: auto scroll
      let auto = setInterval(() => { track.scrollBy({left: 320, behavior:'smooth'}) }, 4500);
      [track, leftBtn, rightBtn].forEach(el => el.addEventListener('mouseenter', () => clearInterval(auto)));
      [track, leftBtn, rightBtn].forEach(el => el.addEventListener('mouseleave', () => { auto = setInterval(() => { track.scrollBy({left: 320, behavior:'smooth'}) }, 4500); }));
    })();
  </script>
</body>
</html>
